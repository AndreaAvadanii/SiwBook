<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Login - SIW Book</title>
  <link th:href="@{/css/style.css}" rel="stylesheet">
</head>
<body>
  <header class="navbar">
    <div class="container navbar-content">
      <a class="logo nav-link" th:href="@{/}">SIW Book</a>
      <div class="book">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
      <nav class="nav-links">
        <a class="nav-link" th:href="@{/books}">Libri</a>
        <a class="nav-link" th:href="@{/authors}">Autori</a>
        <a th:if="${userDetails != null}" class="nav-link" th:href="@{/logout}">Logout</a>
        <a th:unless="${userDetails != null}" class="nav-link" th:href="@{/login}">Login</a>
      </nav>
    </div>
  </header>

  <section class="container" style="padding:6rem 0;">
    <!-- messaggi di sistema -->
    <div th:if="${param.error}"  class="alert alert-danger">
      Credenziali non valide. Riprova.
    </div>
    <div th:if="${param.logout}" class="alert alert-success">
      Logout effettuato con successo.
    </div>

    <form th:action="@{/login}" method="post" class="form-container">
      <h2>Login</h2>

      <div class="input-wrapper">
        <input id="username" name="username" type="text" required placeholder=" ">
        <label for="username">Username</label>
      </div>

      <div class="input-wrapper">
        <input id="password" name="password" type="password" required placeholder=" ">
        <label for="password">Password</label>
      </div>

      <button type="submit" class="btn">Accedi</button>

      <p style="margin-top:1rem;">
        Non hai un account? <a th:href="@{/register}">Registrati</a>
      </p>
    </form>
  </section>

  <footer class="footer">
    <div class="container footer-content">
      <p>© 2025 SIW Book – Tutti i diritti riservati</p>
    </div>
  </footer>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const book = document.querySelector(".book");
    const navMenu   = document.querySelector(".nav-links");

    hamburger.addEventListener("click", () => {
      hamburger.classList.toggle("active");
      navMenu.classList.toggle("active");
    });

    document.querySelectorAll(".nav-link").forEach(n =>
      n.addEventListener("click", () => {
        book.classList.remove("active");
        navMenu.classList.remove("active");
      })
    );
  </script>
</body>
</html>
